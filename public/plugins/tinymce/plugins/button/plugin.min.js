
tinymce.PluginManager.add('button', function(editor, url) {

    // Add a button that opens a window
    editor.addButton('button', {
        icon: 'task',
        tooltip: 'Insert Button',
        onclick: function() {
            // Open window
            editor.windowManager.open({
                title: 'Button',
                width: 350,
                height: 250,
                body: [
                    {type: 'textbox',name: 'title',label:'Title'},
                    {type: 'textbox',name: 'url',label:'Url'},
                    {type: 'listbox',name: 'size',label:'Size',values:[{
                                                                        text: "XLarge",
                                                                        value: "btn-xl"
                                                                    },{
                                                                        text: "Large",
                                                                        value: "btn-lg"
                                                                    },{
                                                                        text: "Medium",
                                                                        value: "btn-md"
                                                                    }, {
                                                                        text: "Small",
                                                                        value: "btn-sm"
                                                                    }, {
                                                                        text: "XSmall",
                                                                        value: "btn-xs"
                                                                    }]},
                    {type: 'listbox',name: 'style',label:'Style',values:[{
                                                                        text: "Basic",
                                                                        value: ""
                                                                    }, {
                                                                        text: "Default",
                                                                        value: "btn-default"
                                                                    }, {
                                                                        text: "Primary",
                                                                        value: "btn-primary"
                                                                    }, {
                                                                        text: "Success",
                                                                        value: "btn-success"
                                                                    }, {
                                                                        text: "Info",
                                                                        value: "btn-info"
                                                                    }, {
                                                                        text: "Warning",
                                                                        value: "btn-warning"
                                                                    }, {
                                                                        text: "Danger",
                                                                        value: "btn-danger"
                                                                    }, {
                                                                        text: "Brilio",
                                                                        value: "btn-brilio"
                                                                    }]},
                    {type: 'listbox',name: 'target',label:'Target',values:[{
                                                                        text: "None",
                                                                        value: ""
                                                                    }, {
                                                                        text: "New window",
                                                                        value: "_blank"
                                                                    }]},
                ],
                onsubmit: function(e) {
                    // Insert content when the window form is submitted
                    editor.insertContent('<p> &nbsp; <a class="bt btn '+e.data.style+' '+e.data.size+'" target="'+e.data.target+'" href="'+e.data.url+'" ><button>'+e.data.title + "</button></a> &nbsp;</p>");
                }
            });
        }
    });

    // Adds a menu item to the tools menu
    editor.addMenuItem('button', {
        text: 'Insert Button',
        context: 'insert',
        icon: 'task',
        onclick: function() {
            // Open window
            editor.windowManager.open({
                title: 'Button',
                width: 350,
                height: 250,
                body: [
                    {type: 'textbox',name: 'title',label:'Title'},
                    {type: 'textbox',name: 'url',label:'Url'},
                    {type: 'listbox',name: 'size',label:'Size',values:[{
                                                                        text: "XLarge",
                                                                        value: "btn-xl"
                                                                    },{
                                                                        text: "Large",
                                                                        value: "btn-lg"
                                                                    },{
                                                                        text: "Medium",
                                                                        value: "btn-md"
                                                                    }, {
                                                                        text: "Small",
                                                                        value: "btn-sm"
                                                                    }, {
                                                                        text: "XSmall",
                                                                        value: "btn-xs"
                                                                    }]},
                    {type: 'listbox',name: 'style',label:'Style',values:[{
                                                                        text: "Basic",
                                                                        value: ""
                                                                    }, {
                                                                        text: "Default",
                                                                        value: "btn-default"
                                                                    }, {
                                                                        text: "Primary",
                                                                        value: "btn-primary"
                                                                    }, {
                                                                        text: "Success",
                                                                        value: "btn-success"
                                                                    }, {
                                                                        text: "Info",
                                                                        value: "btn-info"
                                                                    }, {
                                                                        text: "Warning",
                                                                        value: "btn-warning"
                                                                    }, {
                                                                        text: "Danger",
                                                                        value: "btn-danger"
                                                                    }, {
                                                                        text: "Brilio",
                                                                        value: "btn-brilio"
                                                                    }]},
                    {type: 'listbox',name: 'target',label:'Target',values:[{
                                                                        text: "None",
                                                                        value: ""
                                                                    }, {
                                                                        text: "New window",
                                                                        value: "_blank"
                                                                    }]},
                ],
                onsubmit: function(e) {
                    // Insert content when the window form is submitted
                    editor.insertContent('<p> &nbsp; <a class="bt btn '+e.data.style+' '+e.data.size+'" target="'+e.data.target+'" href="'+e.data.url+'" ><button>'+e.data.title + "</button></a> &nbsp;</p>");
                }
            });
        }
    });
});