tinymce.PluginManager.add('infografis', function(editor, url) {	
    // Add a button that opens a window
    editor.addButton('infografis', {
        icon: 'code',
        tooltip: 'Insert Infografis Script',
		onclick: openDialog,
        // onclick: function() {
            // // Open window
            // editor.windowManager.open({
                // title: 'Embed Infografis',
                // width: 500,
                // height: 400,
                // body: [
                    // {type: 'label',name:"help-text", text: "Paste your embed script from Intagram, Twitter, Youtube or other media."},
                    // {type: 'textbox', multiline: true, name: 'embed_script', style:'height:320px;'}
                // ],
                // onsubmit: function(e) {
                    // Insert content when the window form is submitted
                    // editor.insertContent(e.data.embed_script + "<p><br /></p>");
                // }
            // });
        // }
    });

    // Adds a menu item to the tools menu
    editor.addMenuItem('infografis', {
        text: 'Insert Infografis',
		context: 'insert',
        icon: 'code',
		onclick: openDialog,
        // onclick: function() {
            // // Open window
            // editor.windowManager.open({
                // title: 'Embed Script',
                // width: 500,
                // height: 400,
                // body: [
                    // {type: 'label',name:"help-text", text: "Paste your embed script from Intagram, Twitter, Youtube or other media."},
                    // {type: 'textbox', multiline: true, name: 'embed_script', style:'height:320px;'}
                // ],
                // onsubmit: function(e) {
                    // // Insert content when the window form is submitted
                    // editor.insertContent(e.data.embed_script + "<p><br /></p>");
                // }
            // });
        // }
    });
	
	function openDialog(){
		$('#modal-infografis-tinymce').modal();
	}
});